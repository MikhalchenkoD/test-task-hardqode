## Тестовое задание для HardQode

Простое API на Django Rest Framework + Django для вывода информации о продуктах, уроках и статистике просмотра уроков пользователями.

## Установка зависимостей

```sh
pip install -r requirements.txt
```

## Использование

```sh
python manage.py runserver
```
Данные для авторизации:
1. Логин - root
2. Пароль - 1234

## Примеры

`POST /api/user/product/` - выводит список всех уроков по всем продуктам к которым пользователь имеет доступ, с выведением информации о статусе и времени просмотра.

```
{
  user_id: int - идентификатор пользователя
}
```

Ответ:

```
{
    "result": true,
    "products": [
        {
            "title": "Курс по JavaScript",
            "descr": "Научись js и стань крутым",
            "owner": "Дмитрий",
            "lessons": [
                {
                    "title": "Что такое JavaScript?",
                    "descr": "Узнай что такое JavaScript и как его использовать",
                    "link": "videos1",
                    "duration": "00:33:20",
                    "status": "Просмотрено",
                    "time": "2023-10-05T07:51:45.332972Z"
                }
            ]
        }
    ]
}
```
`POST /api/user/lesson/` - выводит список уроков по конкретному продукту к которому пользователь имеет доступ, с выведением информации о статусе и времени просмотра, а также датой последнего просмотра ролика.

```
{
  user_id: int - идентификатор пользователя
  product_id: int - идентификатор продукта
}
```
Ответ:

```
{
    "result": true,
    "lessons": [
        {
            "title": "Что такое JavaScript",
            "descr": "Узнай что такое js и как его использовать",
            "link": "videos1",
            "duration": "00:33:20",
            "status": "Просмотрено",
            "time": "2023-10-05T07:51:45.332972Z"
        }
    ]
}
```

`GET /api/products/` - выводит статистику по продуктам.

Ответ:

```
{
    "result": true,
    "products": [
        {
            "title": "Курс по JavaScript",
            "descr": "Научись js и стань крутым",
            "owner": "Дмитрий",
            "total_views": 1,
            "total_time": 2000.0,
            "total_users": 1,
            "percent_purchase": "100.0%"
        }
    ]
}
```
